<!doctype html>
<html>
  <head>
    <meta charset='utf-8' />
    <title>gen-phys-png</title>
    <style>
      body, h1 {
        font-family: roboto;
      }
      div {
        margin: 15px;
      }
      input {
        font-size: 20px;
        width: 400px;
      }
    </style>
  </head>
  <body>
    <h1>pHYs-png demo</h1>
    <input type='text' id='gyazoId' value='' placeholder='8120a5842dfe69bdc8dcc0c67c788d4f' />
    <div>
      <h2><pre>&lt;phys-png&gt;</pre></h2>
      <p>
        Let's render the image captured by <a href=''>Gyazo Extension</a> equipped
        with <code>png-phys-chunk-writer</code> feature!
      </p>
      <phys-png followdpi></phys-png>
    </div>
    <div>
      <h2><pre>&lt;img&gt;</pre></h2>
      <img src/>
    </div>
    <script src='./demo.js'></script>
    <script>
      const physPng = document.querySelector('phys-png')
      const img = document.querySelector('img')
      const updateImage = (target) => {
        const gyazoId = target.value || target.placeholder
        const srcUrl = `https://gyakky.herokuapp.com/gyazo/raw/${gyazoId}`
        physPng.setAttribute('src', srcUrl)
        img.setAttribute('src', srcUrl)
      }
      document.querySelector('#gyazoId').addEventListener('change', (e) => {
        updateImage(e.target)
      })
      updateImage(document.querySelector('#gyazoId'))
    </script>
  </body>
</html>
